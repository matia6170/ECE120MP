; This is the file you will use for the lab assignment
; Make sure to comment your code properly and don't exceed 
; the line limitation for this assignment.  Good luck!

0011 0001 0000 0000 ; x3100 - starting address of the program

; The program description and code starts here

; The problem is approched by using 4 registers.

; R0 holds the starting address of the 10-number array.
; R1 will store the counter. The counter will count up from -10 to 0. 
; R2 will temporarily store the value which is retrieved from number array in memeory
; R5 is the output register. It will store the final value of the positive value sum.

; In summary, this program check the numbers in the array one by one and adds only the postive numbers to R5
; until the counter is done counting. Then the program HALTs.

;INITIALIZING R0
1110 000 000110001   ; 	x3100: R0 <- PC + SEXT(0 0011 0001)		Set R0 to the starting value of the array 

;INITIALIZING R1 to -10
0101 001 001 1 00000 ;	x3101: R1 <- R1 AND SEXT(00000)  		Set all bits of R1 0
0001 001 001 1 10110 ; 	x3102: R1 <- R1 ADD SEXT(10110) 		Set R1 to -10 

;INITIALIZING R5
0101 101 101 1 00000 ;	x3103: R5 <- R5 AND SEXT(00000)  		Set all bits of R5 0

;LOOP
0110 010 000 000000  ; 	x3104: R2 <- M[BaseR + SEXT(PCoffset6)]		Load the M[R0] to R2 
0000 110 000000001   ; 	x3105: IF(p.P) THEN PC <- PC + x0001		If the number (R2) is <= 0 skip the next line.	
0001 101 101 000 010 ; 	x3106: R5 <- R5 ADD R2				R5+=R2 Adding to the final sum. 
0001 000 000 1 00001 ;	x3107: R0 <- R0 ADD SEXT(00001) 		R0++ Select the next number in the array
0001 001 001 1 00001 ;	x3108: R1 <- R1 ADD SEXT(00001) 		R1++ Increment Counter
0000 100 111111010   ;	x3109: IF(p.P) THEN PC <- PC + xFFFA	  	If the counter (R1) is negative, REPEAT	
1111 0000 00100101   ;	x310A: HALT PROGRAM {END}			Done calculating. HALT program.
